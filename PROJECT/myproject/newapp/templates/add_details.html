{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg p-4 mx-auto" style="max-width: 700px;">
        <h2 class="text-center text-primary fw-bold mb-4">üìù Add Your Details</h2>
        <form method="POST">
            {% csrf_token %}

            <!-- Full Name -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Full Name</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                    <input type="text" class="form-control border-primary" name="full_name" placeholder="Enter full name" required>
                </div>
            </div>

            <!-- Email -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Email</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
                    <input type="email" class="form-control border-primary" name="email" placeholder="Enter email" required>
                </div>
            </div>

            <!-- Date of Birth -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Date of Birth</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-calendar"></i></span>
                    <input type="date" class="form-control border-primary" name="dob" required>
                </div>
            </div>

            <!-- Gender -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Gender</label>
                <select class="form-select border-primary" name="gender">
                    <option selected disabled>Choose</option>
                    <option>Male</option>
                    <option>Female</option>
                    <option>Other</option>
                </select>
            </div>

            <!-- Blood Type -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Blood Type</label>
                <select class="form-select border-primary" name="blood_type">
                    <option selected disabled>Choose</option>
                    <option>A+</option>
                    <option>A-</option>
                    <option>B+</option>
                    <option>B-</option>
                    <option>O+</option>
                    <option>O-</option>
                    <option>AB+</option>
                    <option>AB-</option>
                </select>
            </div>

            <!-- Contact Number -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Contact Number</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-phone-fill"></i></span>
                    <input type="text" class="form-control border-primary" name="contact" placeholder="Enter phone number" required>
                </div>
            </div>

            <!-- Address -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Address</label>
                <textarea class="form-control border-primary" name="address" rows="2" placeholder="Enter your address" required></textarea>
            </div>

            <!-- Country -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Country</label>
                <select class="form-select border-primary" name="country" id="country" required>
                    <option value="India" selected>India</option>
                </select>
            </div>

            <!-- State Dropdown -->
            <div class="mb-3">
                <label class="form-label fw-semibold">State</label>
                <select class="form-select border-primary" name="state" id="state" required>
                    <option value="Karnataka" selected>Karnataka</option> <!-- ‚úÖ Karnataka set as default -->
                </select>
            </div>

            <!-- City Dropdown -->
            <div class="mb-3">
                <label class="form-label fw-semibold">City</label>
                <select class="form-select border-primary" name="city" id="city" required>
                    <option value="">Select City</option>
                </select>
            </div>

            <!-- Pincode -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Pincode</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-geo-alt-fill"></i></span>
                    <input type="text" class="form-control border-primary" name="pincode" placeholder="Enter pincode" required>
                </div>
            </div>

            <!-- Hospital Selection -->
            <!-- <div class="mb-3">
                <label class="form-label fw-semibold">Hospital</label>
                <select class="form-select border-primary" name="hospital_id" required>
                    <option value="" disabled selected>Choose Hospital</option>
                    {% for hospital in hospitals %}
                    <option value="{{ hospital.id }}">{{ hospital.name }}</option>
                    {% endfor %}
                </select>
            </div> -->

            <!-- Submit Button -->
            <div class="d-grid">
                <button type="submit" class="btn btn-lg btn-primary shadow-sm">
                    <i class="bi bi-save-fill"></i> Save Details
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

<!-- JavaScript for State & City Dropdowns -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var karnatakaDistricts = [
            "Bagalkot", "Ballari", "Belagavi", "Bengaluru Rural", "Bengaluru Urban", "Bidar",
            "Chamarajanagar", "Chikkaballapur", "Chikkamagaluru", "Chitradurga", "Dakshina Kannada",
            "Davangere", "Dharwad", "Gadag", "Hassan", "Haveri", "Kalaburagi", "Kodagu",
            "Kolar", "Koppal", "Mandya", "Mysuru", "Raichur", "Ramanagara",
            "Shivamogga", "Tumakuru", "Udupi", "Uttara Kannada", "Vijayapura", "Yadgir"
        ];
    
        var citySelect = document.getElementById("city");
    
        // Populate city dropdown with Karnataka districts
        karnatakaDistricts.forEach(function(city) {
            var option = document.createElement("option");
            option.value = city;
            option.textContent = city;
            citySelect.appendChild(option);
        });
    
    });
</script>

{% endblock %}
